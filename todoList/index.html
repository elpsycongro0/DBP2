<!DOCTYPE HTML>
<html>

<head>
  <meta charset="utf-8" />
  <title>DBP</title>
  <script>
    

    document.addEventListener('DOMContentLoaded', () => {
      document.querySelector('#complete-all').onclick = () => {
        document.querySelectorAll('.task-item-check').forEach(check => {
          check.checked = true;
        });        
      };
      document.querySelector('#new-task').onsubmit = () => {
        const cb = document.createElement("INPUT");
        cb.setAttribute("type", "checkbox");
        cb.classList.add("task-item-check");

        const li = document.createElement('li');
        li.appendChild(cb);
        li.innerHTML += document.querySelector('#task').value;

        const deleteButton = document.createElement("INPUT");
        deleteButton.classList.add("delete-button");
        li.appendChild(deleteButton);
        deleteButton.setAttribute("type", "button")
        deleteButton.value = "x"


        document.querySelector('#tasks').append(li);

        document.querySelector('#task').value = '';

        document.querySelectorAll('.task-item-check').forEach(check => {
          check.onclick = () => {
            if(check.checked == true){
              check.parentElement.style.textDecoration = "line-through";
            }
            else{
              check.parentElement.style.textDecoration = "none";
            }
          }
        });

        document.querySelectorAll('.delete-button').forEach(delButton => {
          delButton.onclick = () => {
            delButton.parentElement.remove();
          }
        });

        return false;
      };

      

    });
  </script>

</head>

<body>
  <p>Computer Science</p>
  <h1>Tasks</h1>
  <form id="new-task">
    <input id="task" autocomplete="off" autofocus placeholder="New Task" type="text">
    <input type="submit">
  </form>
  <input type="button" id="complete-all" value="Complete All">
  <ol id="tasks">
  </ol>
</body>

</html>